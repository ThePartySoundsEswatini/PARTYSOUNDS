<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Party Sounds Eswatini | Premium PA System Rental & Sound Engineering</title>
  <meta name="description" content="Trusted PA system rentals and professional sound engineering in Eswatini. Crystal-clear sound for weddings, events, and parties. Book your system now!">
  
  <link rel="preload" as="image" href="assets/images/camp.jpg" type="image/jpeg">
  
  <link rel="icon" href="assets/images/logo.jpg" type="image/x-icon">
  
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <style>
    /* CSS Variables: Fire Theme */
    :root {
      --primary: #FF4500; /* Fiery Orange/Red (OrangeRed) */
      --secondary-fire: #FFD700; /* Gold/Yellow for highlights */
      --dark: #111;
      --light: #f4f4f4;
      --secondary-dark: #333;
    }

    /* Reset and base styles */
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Poppins', sans-serif;
      background: var(--light);
      color: var(--secondary-dark);
      line-height: 1.6;
      overflow-x: hidden;
      position: relative;
    }

    /* --- FIRE THEME BACKGROUND EFFECTS --- */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      z-index: -3;
      background: repeating-linear-gradient(
        135deg,
        rgba(255, 69, 0, 0.15), 
        rgba(255, 140, 0, 0.15) 10%, 
        rgba(255, 215, 0, 0.1) 20% 
      );
      background-size: 400% 400%;
      animation: pulsatingFire 30s linear infinite alternate;
      pointer-events: none;
      filter: saturate(1.5);
    }
    @keyframes pulsatingFire {
        0% { background-position: 0% 0%; }
        100% { background-position: 100% 100%; }
    }

    .light-beam {
      position: fixed;
      top: 0; left: -50%;
      width: 200%; height: 100%;
      background: linear-gradient(
        45deg,
        rgba(255,140,0,0.3), 
        rgba(255,69,0,0.3),  
        rgba(255,215,0,0.3), 
        rgba(255,69,0,0.3)
      );
      background-size: 600% 600%;
      animation: moveBeams 20s linear infinite;
      z-index: -2;
      mix-blend-mode: overlay; 
      opacity: 0.7;
    }
    @keyframes moveBeams {
      0% { background-position: 0 0; }
      100% { background-position: 600% 600%; }
    }
    
    .disco-particle {
      position: absolute;
      width: 3px; 
      height: 3px;
      background-color: var(--secondary-fire); 
      border-radius: 50%;
      opacity: 0.9;
      animation: flicker 2s infinite, driftUp 8s ease-out infinite; 
      box-shadow: 0 0 5px var(--primary);
      z-index: -1;
    }
    @keyframes flicker {
      0%, 100% { opacity: 0.9; }
      50% { opacity: 0.5; }
    }
    @keyframes driftUp { 
      0% { transform: translate(0, 0) scale(1); opacity: 0.8; }
      50% { transform: translate(50px, -50vh) scale(1.2); opacity: 0.4; }
      100% { transform: translate(100px, -100vh) scale(0.5); opacity: 0; }
    }

    /* --- HEADER AND NAVIGATION --- */
    header { position: relative; height: 85vh; overflow: hidden; } 
    header img.hero { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0.7; }
    .overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.65); z-index: 0; }

    .logo-container { position: absolute; top: 20px; left: 20px; z-index: 2; }
    .logo {
        max-width: 150px; 
        border-radius: 50%;
        box-shadow: 0 0 25px rgba(255, 69, 0, 0.8); 
        border: 3px solid var(--secondary-fire); 
        transition: all 0.5s ease-in-out;
    }
    .logo:hover {
      box-shadow: 0 0 40px var(--primary);
      transform: scale(1.05);
    }
    
    .header-content { position: relative; z-index: 1; max-width: 800px; padding: 100px 20px 20px; margin: 0 auto; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: #fff; }
    
    nav { position: sticky; top: 0; background: var(--dark); padding: 10px 0; display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; z-index: 10; font-weight: 600; box-shadow: 0 2px 10px rgba(0,0,0,0.8); }
    nav a { color: #fff; text-decoration: none; padding: 8px 12px; border-radius: 4px; transition: all 0.4s ease-in-out; }
    nav a:hover, nav a.active { background: var(--primary); color: #fff; transform: translateY(-2px); }

    /* --- BUTTONS & CTAS --- */
    .cta, button.cta {
      display: inline-block; margin-top: 20px; background: var(--primary); color: #fff;
      padding: 14px 28px; border-radius: 6px; text-decoration: none; font-weight: 600;
      border: 2px solid var(--secondary-fire); 
      cursor: pointer; transition: all 0.4s ease-in-out;
    }
    .cta:hover, button.cta:hover { background: #E63900; transform: scale(1.05); box-shadow: 0 5px 20px rgba(255, 69, 0, 0.7); }
    
    #musicToggle { background-color: var(--primary); }
    #musicToggle:hover { background-color: #E63900; }

    /* --- SECTIONS & HEADINGS --- */
    main { padding: 40px 10px; }
    section { max-width: 1000px; margin: 0 auto 60px auto; padding: 20px; }
    h2, h3 { text-align: center; margin-bottom: 30px; color: var(--dark); }

    /* --- GALLERY / PORTFOLIO ENHANCEMENTS (PROFESSIONAL LOOK) --- */
    .portfolio-grid { 
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }
    .portfolio-item {
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        overflow: hidden;
        transition: all 0.4s ease-in-out;
        text-align: center;
        border-bottom: 5px solid var(--primary); 
    }
    .portfolio-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(255, 69, 0, 0.3); 
      border-color: var(--secondary-fire);
    }
    .portfolio-item img {
        width: 100%;
        height: 250px;
        object-fit: cover;
        display: block;
        cursor: pointer;
        transition: opacity 0.3s;
    }
    .portfolio-item:hover img { opacity: 0.9; }
    .image-details { padding: 15px; display: flex; flex-direction: column; gap: 10px; text-align: left; }
    .image-details strong { color: var(--dark); font-size: 1.1em; }
    .gallery-tags { display: flex; flex-wrap: wrap; gap: 5px; }
    .tag { background: #eee; color: var(--primary); padding: 4px 8px; border-radius: 5px; font-size: 0.75em; font-weight: 600; border: 1px solid var(--primary); }
    .download-link { background: var(--dark); margin-top: auto; }
    .download-link:hover { background: var(--primary); }

    /* --- LIGHTBOX (Modal) - Critical Changes for Facebook-style Slideshow --- */
    .lightbox-content {
        position: relative; /* Essential for arrow positioning */
        width: 90%;
        max-width: 900px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 0 50px rgba(255, 69, 0, 0.8); 
        background: black; 
        display: flex;
        justify-content: center;
        align-items: center;
    }

    /* Slideshow Arrows */
    .prev, .next {
      cursor: pointer;
      position: absolute;
      top: 50%;
      width: auto;
      padding: 16px;
      margin-top: -22px;
      color: white;
      font-weight: bold;
      font-size: 30px;
      transition: 0.6s ease;
      border-radius: 0 3px 3px 0;
      user-select: none;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 10001;
      line-height: 1;
    }
    .next {
      right: 0;
      border-radius: 3px 0 0 3px;
    }
    .prev:hover, .next:hover {
      background-color: var(--primary);
    }
    .close-btn {
        position: absolute;
        top: 10px;
        right: 20px;
        color: white;
        font-size: 2.5em; /* Slightly larger close button */
        font-weight: bold;
        cursor: pointer;
        transition: transform 0.3s ease;
        z-index: 10002; /* Higher z-index than arrows */
        text-shadow: 0 0 5px black;
    }
    
    /* Other sections (forms, blog, footer) retained previous fire theme styles */
    /* ... (omitted for brevity, assume previous styles are here) ... */

    /* --- RESPONSIVE ADJUSTMENTS --- */
    @media (max-width: 768px) {
      .logo { max-width: 100px; } 
      .prev, .next { font-size: 20px; padding: 10px; margin-top: -10px; }
    }
  </style>
</head>
<body>

<audio id="bgMusic" src="assets/images/Dj_Maphorisa___Xduppy,_Kabza_De_Small_-_Abantwana_Bakho__Official_Audio__feat._Thatohatsi,Young…(256k).mp3" loop></audio>

<button id="musicToggle">
  🎶 Play Music
</button>

<div class="light-beam"></div>
<div class="disco-particles">
  <div class="disco-particle" style="top:10%; left:15%; background-color:var(--primary); animation-delay:0s;"></div>
  <div class="disco-particle" style="top:20%; left:25%; background-color:var(--secondary-fire); animation-delay:0.5s;"></div>
  <div class="disco-particle" style="top:30%; left:35%; background-color:var(--primary); animation-delay:1s;"></div>
  <div class="disco-particle" style="top:50%; left:45%; background-color:var(--secondary-fire); animation-delay:1.2s;"></div>
  <div class="disco-particle" style="top:60%; left:55%; background-color:var(--primary); animation-delay:0.8s;"></div>
  <div class="disco-particle" style="top:70%; left:65%; background-color:var(--secondary-fire); animation-delay:1.5s;"></div>
</div>

<header>
  <img src="assets/images/camp.jpg" class="hero" alt="PA system setup at an event" />
  <div class="overlay"></div>
  
  <div class="logo-container">
    <img src="assets/images/logo.jpg" alt="The Party Sounds Eswatini Logo" class="logo">
  </div>
  
  <div class="header-content">
    <h1>Crystal‑Clear PA Rentals for Unforgettable Events</h1>
    <p>Your trusted partner for professional sound in Eswatini.</p>
    <a href="#booking" class="cta">BOOK YOUR SOUND SYSTEM</a>
  </div>
</header>

<nav>
  <a href="#home" class="active">Home</a>
  <a href="#services">Services</a>
  <a href="#gallery">Gallery</a>
  <a href="#Posters And Upcomings">GigGuide</a> 
  <a href="#blog">Blog</a>
  <a href="#videos">Videos</a>
  <a href="#booking">Book Now</a>
  <a href="#terms">Ts & Cs</a>
  <a href="#documents">Forms</a>
  <a href="#contact">Contact</a> 
</nav>

<main>
  <section id="home">
    <h2>Welcome to The Party Sounds Eswatini</h2>
    <div id="home-content" style="text-align: center;">
        <p>Premium PA rentals & expert sound engineering—making your event sound as spectacular as it looks.</p>
        
        <img id="home-image" src="assets/images/camp.jpg" alt="Outdoor event with lighting and sound setup" 
             class="home-image-clickable" onclick="openImageLightbox('assets/images/camp.jpg', 'Outdoor event with lighting and sound setup')" 
             style="max-width: 90%; height: auto; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); margin: 20px auto; cursor: pointer;">
    </div>
  </section>

  <section id="services">
    <h3>Our Services</h3>
    <div class="services">
      <article class="service" onclick="openImageLightbox('assets/images/bintops.jpg', 'Premium Sound System')">
        <img src="assets/images/bintops.jpg" alt="Premium Sound System" />
        <h4>Premium Sound System Rental</h4>
        <p><strong>Price: E1500/day</strong></p>
        <p>Includes 2 FTS TOPS, mixers, Wharfadale amp &amp; subbin, 2 wireless mics, accessories.</p>
      </article>

      <article class="service" onclick="openImageLightbox('assets/images/tops.jpg', 'Standard Sound System')">
        <img src="assets/images/tops.jpg" alt="Standard Sound System" />
        <h4>Standard Sound System Rental</h4>
        <p><strong>Price: E750/day</strong></p>
        <p>Includes 2 FTS TOPS, Rocksonic mixer, 2 wireless mics, accessories.</p>
      </article>

      <article class="service" onclick="openImageLightbox('assets/images/lighting_placeholder.jpg', 'Dynamic Lighting Effects')"> 
        <div class="lighting-placeholder">
          <span>Dynamic Lighting Effects</span>
        </div>
        <h4>Lighting &amp; Effects</h4>
        <p><strong>Price: E500/day</strong></p>
        <p>Enhance your party atmosphere with dynamic stage and dance floor lighting systems.</p>
      </article>
    </div>
  </section>

  <section id="gallery">
    <h3>Our Professional Portfolio 📸</h3>
    <p style="text-align:center; margin-bottom:30px;">Click any image to enter the Facebook-style slideshow and swipe through all the pictures!</p>
    
    <div class="portfolio-grid" id="portfolio-grid">
        
      <div class="portfolio-item">
        <img src="assets/images/Culture.jpg" alt="Cultural event sound setup" data-index="0" onclick="openGalleryLightbox(this)" />
        <div class="image-details">
            <strong>Cultural Event | Full PA Setup</strong>
            <div class="gallery-tags">
                <span class="tag">Festival</span><span class="tag">Large Crowd</span>
            </div>
            <a href="assets/images/Culture.jpg" download="TPS_Cultural_event.jpg" class="download-link"><i class="fas fa-download"></i> Download High-Res</a>
        </div>
      </div>
      
      <div class="portfolio-item">
        <img src="assets/images/camp.jpg" alt="Outdoor night camping with sound system" data-index="1" onclick="openGalleryLightbox(this)" />
        <div class="image-details">
            <strong>Outdoor Vibe | Night Setup</strong>
            <div class="gallery-tags">
                <span class="tag">Outdoor</span><span class="tag">Night Time</span>
            </div>
            <a href="assets/images/camp.jpg" download="TPS_Outdoor_night_camping.jpg" class="download-link"><i class="fas fa-download"></i> Download High-Res</a>
        </div>
      </div>
      
      <div class="portfolio-item">
        <img src="assets/images/1event.jpg" alt="Sporting event sound system" data-index="2" onclick="openGalleryLightbox(this)" />
        <div class="image-details">
            <strong>Sporting Event | Announcement System</strong>
            <div class="gallery-tags">
                <span class="tag">Sporting</span><span class="tag">Corporate</span>
            </div>
            <a href="assets/images/1event.jpg" download="TPS_Sporting_event.jpg" class="download-link"><i class="fas fa-download"></i> Download High-Res</a>
        </div>
      </div>
      
      <div class="portfolio-item">
        <img src="assets/images/pa.jpg" alt="DJ Booth PA system close up" data-index="3" onclick="openGalleryLightbox(this)" />
        <div class="image-details">
            <strong>DJ Booth | Premium Sub-bins</strong>
            <div class="gallery-tags">
                <span class="tag">Equipment</span><span class="tag">Premium</span>
            </div>
            <a href="assets/images/pa.jpg" download="TPS_PA_System_Setup.jpg" class="download-link"><i class="fas fa-download"></i> Download High-Res</a>
        </div>
      </div>
      
      <div class="portfolio-item">
        <img src="assets/images/bintops.jpg" alt="Premium Sub-bins close-up" data-index="4" onclick="openGalleryLightbox(this)" />
        <div class="image-details">
            <strong>Premium System | Sub-bins</strong>
            <div class="gallery-tags">
                <span class="tag">Equipment</span><span class="tag">Detail</span>
            </div>
            <a href="assets/images/bintops.jpg" download="TPS_Premium_Sub_bins.jpg" class="download-link"><i class="fas fa-download"></i> Download High-Res</a>
        </div>
      </div>
      
      <div class="portfolio-item">
        <img src="assets/images/tops.jpg" alt="Standard FTS Tops speakers" data-index="5" onclick="openGalleryLightbox(this)" />
        <div class="image-details">
            <strong>Standard System | FTS Tops</strong>
            <div class="gallery-tags">
                <span class="tag">Equipment</span><span class="tag">Standard</span>
            </div>
            <a href="assets/images/tops.jpg" download="TPS_Standard_Tops.jpg" class="download-link"><i class="fas fa-download"></i> Download High-Res</a>
        </div>
      </div>
      
    </div>
  </section>
  <section id="Posters And Upcomings">
    <h3>Posters & Gig Guide</h3>
    
    <p style="text-align:center; margin-bottom:30px;">Check out the latest posters and promotions!</p>
    <div class="poster-grid">
      <div class="poster-item">
        <img src="assets/images/dummy_poster_1.jpg" alt="Promotional Poster 1" onclick="openImageLightbox(this.src, this.alt)" />
        <p>Summer Bash Promo (Click to Enlarge)</p>
        <a href="assets/images/dummy_poster_1.jpg" download="Summer_Promo_Poster.jpg" class="download-link"><i class="fas fa-download"></i> Download Poster</a>
      </div>
      <div class="poster-item">
        <img src="assets/images/dummy_poster_2.jpg" alt="New Year's Eve Special" onclick="openImageLightbox(this.src, this.alt)" />
        <p>NYE Special (Click to Enlarge)</p>
        <a href="assets/images/dummy_poster_2.jpg" download="NYE_Special_Poster.jpg" class="download-link"><i class="fas fa-download"></i> Download Poster</a>
      </div>
      <div class="poster-item">
        <img src="assets/images/dummy_poster_3.jpg" alt="Corporate Package Offer" onclick="openImageLightbox(this.src, this.alt)" />
        <p>Corporate Packages (Click to Enlarge)</p>
        <a href="assets/images/dummy_poster_3.jpg" download="Corporate_Package.jpg" class="download-link"><i class="fas fa-download"></i> Download Poster</a>
      </div>
    </div>
    
    <div class="upcoming-events-container" id="upcoming-events">
      <h3>🔥 Upcoming Events We're Powering! 🎶</h3>
      <div class="events-grid">
        <div class="event-card">
          <h4>OPEN FOR BOOKINGS</h4>
          <p><i class="fas fa-calendar-alt"></i> Date:--</p>
          <p><i class="fas fa-clock"></i> Time:--</p>
          <p><i class="fas fa-map-marker-alt"></i> Venue:--</p>
          <p><i class="fas fa-music"></i> Featuring:--</p>
          <a href="#booking" class="event-cta">Book Our Sound Now!</a>
        </div>
        
        <div class="event-card">
          <h4>OPEN FOR BOOKINGS</h4>
          <p><i class="fas fa-calendar-alt"></i> Date:--</p>
          <p><i class="fas fa-clock"></i> Time:--</p>
          <p><i class="fas fa-map-marker-alt"></i> Venue:---</p>
          <p><i class="fas fa-microphone-alt"></i> Featuring:--</p>
          <a href="#booking" class="event-cta">Book Our Sound Now!</a>
        </div>
      </div>
      <p style="margin-top: 25px; font-style: italic;">Need sound for your upcoming event? <a href="#booking" style="color: var(--primary); font-weight: 600;">Book a system here!</a></p>
    </div>
  </section>

  <section id="blog">
    <h3>News & Blog</h3>
    <div class="blog-post">
      <h4>Our Latest Gear Acquisition!</h4>
      <p style="font-style: italic; color: #777;">Posted on October 26, 2025</p>
      <p>We're excited to announce the arrival of our new Wharfadale digital mixer! This upgrade allows us to offer even cleaner, more dynamic sound for large venues and complex events. The new mixer includes advanced DSP and wireless control...</p>
      <div id="blog-content-1" class="blog-content-hidden">
        <p>...which means faster sound checks and better sound quality control throughout your event. We are committed to using top-tier equipment to ensure your party is heard, loud and clear!</p>
      </div>
      <button class="read-more-btn" onclick="toggleReadMore('blog-content-1', this)">Read More</button>
    </div>
    
    <div class="blog-post">
      <h4>Referral Program Success</h4>
      <p style="font-style: italic; color: #777;">Posted on September 15, 2025</p>
      <p>A big shoutout to our partners! Our 10-15% referral program is thriving. If you know someone planning an event, refer them to us and earn commission after the event is successfully completed and paid for...</p>
      <div id="blog-content-2" class="blog-content-hidden">
        <p>...It's a simple way to earn extra cash while helping your friends and colleagues get the best sound in Eswatini. See the Terms & Conditions section for full details on commission rates.</p>
      </div>
      <button class="read-more-btn" onclick="toggleReadMore('blog-content-2', this)">Read More</button>
    </div>
  </section>
  <section id="videos">
    <h3>Watch Our Events in Action</h3>
    <p style="text-align:center; margin-bottom:30px;">Click to watch event recaps and sound system demonstrations.</p>
    <div class="video-grid">
      <div class="video-wrapper" onclick="openVideoLightbox('https://www.youtube.com/embed/mC70vYeB7IA')">
        <img src="assets/images/bintops.jpg" alt="Event Recap Video 1 Thumbnail" />
        <div class="play-overlay"><i class="fas fa-play"></i></div>
        <p style="padding: 10px; font-weight: 600; color: white; background: var(--dark); margin: 0;">Full System Demo</p>
      </div>
      <div class="video-wrapper" onclick="openVideoLightbox('https://www.youtube.com/embed/S_T1xG3kK5Y')">
        <img src="assets/images/camp.jpg" alt="Outdoor Event Video 2 Thumbnail" />
        <div class="play-overlay"><i class="fas fa-play"></i></div>
        <p style="padding: 10px; font-weight: 600; color: white; background: var(--dark); margin: 0;">Outdoor Party Vibe</p>
      </div>
      <div class="video-wrapper" onclick="openVideoLightbox('https://www.youtube.com/embed/H0ZfPq7sB64')">
        <img src="assets/images/redcarpet.jpg" alt="Cultural Event Video 3 Thumbnail" />
        <div class="play-overlay"><i class="fas fa-play"></i></div>
        <p style="padding: 10px; font-weight: 600; color: white; background: var(--dark); margin: 0;">Cultural Day Sound Check</p>
      </div>
    </div>
  </section>

  

  <section id="booking">
    <h2>Reserve Your Sound System</h2>
    <p style="text-align:center;"><strong>Trusted by 20+ events across Mbabane.</strong></p>
    <form id="booking-form">
      <input type="text" name="name" placeholder="Your Full Name" required />
      <input type="text" name="event" placeholder="Event Name" required />
      <input type="tel" name="phone" placeholder="Phone Number" required />
      
      <select name="service" required>
        <option value="">--- Please Select The Service ---</option>
        <option value="Premium Sound System (E1500)">Premium Sound System Rental (E1500)</option>
        <option value="Standard Sound System (E750)">Standard Sound System Rental (E750)</option>
        <option value="Lighting (E500)">Lighting & Effects (E500)</option>
        <option value="Lighting & Sound">Lighting & Sound Combo (Quote Required)</option>
      </select>
      
      <select name="promotion">
          <option value="None">--- Select Applicable Promotion (Optional) ---</option>
          <option value="Summer Promo">Summer Promotion (Special Price Applied)</option>
          <option value="NYE Special (E1300, Dec 10 - Jan 5)">NYE Special: E1300 (Valid Dec 10 - Jan 5)</option>
      </select>
      
      <input type="date" name="date" required />
      <textarea name="message" rows="5" placeholder="Additional Details (venue, time, specific promo price if known, etc.)"></textarea>
      <button type="submit" class="cta">Submit Booking</button>
    </form>
  </section>

  <section id="terms">
    <h3>Terms & Conditions</h3>
    <h4>Transport Fees</h4>
    <p>Quoted based on event location.</p>
    <h4>DJ Charges</h4>
    <p>Separate, based on individual rates.</p>
    <h4>Hourly Charge</h4>
    <p>All listed prices are per day (10 AM–7 PM). Overtime charges may apply.</p>
    <h4>Discounts</h4>
    <p>Negotiable based on event type and equipment.</p>
    <h4>Referral Commissions</h4>
    <ul>
      <li><strong>10%</strong> of rental for one‑time referrals</li>
      <li><strong>15%+</strong> for ongoing partnerships</li>
    </ul>
    <p>Commissions paid after event and payment confirmation. Inform us beforehand to track referrals.</p>
  </section>
  
  <section id="documents">
    <h3>Rental Forms & Documents</h3>
    <p style="text-align:center; margin-bottom:30px;">Our official documents for convenience. Familirise yourself!.</p>
    <div class="document-grid">
        <div class="document-item">
            <h4>Equipment Rental Agreement</h4>
            <p>The main contract for service provision and rental terms.</p>
            <div class="document-actions">
                <a href="assets/images/agreement.pdf" download="TPS_Rental_Agreement.pdf" class="cta">
                    <i class="fas fa-download"></i> Download
                </a>
                <a href="#" onclick="openDocumentLightbox('assets/images/agreement.pdf'); return false;" class="cta view-btn">
                    <i class="fas fa-eye"></i> View Agreement
                </a>
            </div>
        </div>
        <div class="document-item">
            <h4>Equipment Return & Inspection Checklist</h4>
            <p>Document for verifying equipment condition upon return.</p>
            <div class="document-actions">
                <a href="assets/images/return.pdf" download="TPS_Return_Checklist.pdf" class="cta">
                    <i class="fas fa-file-signature"></i> Download Checklist
                </a>
                <a href="#" onclick="openDocumentLightbox('assets/images/Return_Checklist.pdf'); return false;" class="cta view-btn">
                    <i class="fas fa-eye"></i> View Checklist
                </a>
            </div>
        </div>
    </div>
    <p style="text-align:center; margin-top:30px; font-size: 0.9em; color: #555;">
        Note: The Return Checklist will be filled and signed with a staff member upon drop-off aswell as when the equipment is collected.
    </p>
  </section>
  </main>

<footer id="contact">
  <h3>🔥 Contact The Party Sounds Eswatini 🔥</h3>
  <p><i class="fas fa-phone-alt"></i> **Phone/Calls:** <a href="tel:+26876031087">+268 76031087 / 79637097</a></p>
  <p><i class="fab fa-whatsapp"></i> **WhatsApp:** <a href="https://wa.me/26879637097" target="_blank">Chat with us on +268 79637097</a></p>
  <p><i class="fas fa-envelope"></i> **Email:** <a href="mailto:partysoundsbookings@outlook.com">partysoundsbookings@outlook.com</a></p>
  <p><i class="fab fa-facebook"></i> **Facebook:** <a href="https://www.facebook.com/people/The-Party-Sounds-Eswatini/61559046577098" target="_blank">The Party Sounds Eswatini</a></p>
  <p style="margin-top:20px;">&copy; 2025 The Party Sounds Eswatini. All rights reserved.</p>
</footer>

<div id="videoLightbox" class="lightbox">
  <span class="close-btn" onclick="closeVideoLightbox()">&times;</span>
  <div class="lightbox-content">
    <iframe id="lightboxVideo" src="" allow="autoplay" allowfullscreen></iframe>
  </div>
</div>

<div id="imageLightbox" class="lightbox">
  <span class="close-btn" onclick="closeImageLightbox()">&times;</span>
  <div class="lightbox-content">
    <img id="lightboxImage" src="" alt="">
  </div>
</div>

<div id="galleryLightbox" class="lightbox">
  <span class="close-btn" onclick="closeGalleryLightbox()">&times;</span>
  <div class="lightbox-content">
    <img id="galleryLightboxImage" src="" alt="">
    <a class="prev" onclick="changeImage(-1)">&#10094;</a>
    <a class="next" onclick="changeImage(1)">&#10095;</a>
  </div>
</div>

<div id="documentLightbox" class="lightbox">
    <span class="close-btn" onclick="closeDocumentLightbox()">&times;</span>
    <div class="lightbox-content document-lightbox-content">
        <iframe id="lightboxDocument" src="" title="Rental Agreement Document"></iframe>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
  // --- Form Submission Logic (EmailJS) ---
  (function(){ emailjs.init("9VpXJnpNdqLQR-uOe"); })();
  function setupEmailJS(formId, serviceID, templateID) {
    const form = document.getElementById(formId);
    if (!form) return;
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const statusMessage = (msg) => {
        const h2 = document.querySelector(`#${formId}`).closest('section').querySelector('h2') || document.querySelector(`#${formId}`).closest('section').querySelector('h3');
        if (h2) {
            const messageDiv = document.createElement('div');
            messageDiv.innerHTML = `<p style="color: var(--primary); font-weight: bold; margin-top: 10px; text-align: center;">${msg}</p>`;
            h2.insertAdjacentElement('afterend', messageDiv);
            setTimeout(() => messageDiv.remove(), 5000);
        }
      };
      emailjs.sendForm(serviceID, templateID, this)
        .then(() => { statusMessage('✔️ Submitted successfully! We will be in touch shortly.'); form.reset(); })
        .catch(err => { console.error(err); statusMessage('❌ Submission error. Please try again or contact us directly.'); });
    });
  }
  setupEmailJS('booking-form', 'service_hqch6fi', 'template_jhessvb');

  // --- Blog Read More functionality ---
  function toggleReadMore(contentId, btn) {
    const cont = document.getElementById(contentId);
    if (cont.style.display === "block") {
      cont.style.display = "none";
      btn.textContent = "Read More";
    } else {
      cont.style.display = "block";
      btn.textContent = "Show Less";
    }
  }

  // --- Music Toggle ---
  const musicToggle = document.getElementById('musicToggle');
  const bgMusic = document.getElementById('bgMusic');
  musicToggle.addEventListener('click', () => {
    if (bgMusic.paused) {
      bgMusic.play().catch(error => {
        console.log("Autoplay prevented:", error);
        alert("Music playback requires user interaction. Please click again.");
      });
      musicToggle.innerHTML = '🎶 Pause Music';
    } else {
      bgMusic.pause();
      musicToggle.innerHTML = '🎶 Play Music';
    }
  });


  // --- LIGHTBOX FUNCTIONS ---
  const imageLightbox = document.getElementById('imageLightbox');
  const videoLightbox = document.getElementById('videoLightbox');
  const documentLightbox = document.getElementById('documentLightbox');
  const galleryLightbox = document.getElementById('galleryLightbox'); // NEW
  
  const lightboxImage = document.getElementById('lightboxImage');
  const lightboxVideo = document.getElementById('lightboxVideo');
  const lightboxDocument = document.getElementById('lightboxDocument');
  const galleryLightboxImage = document.getElementById('galleryLightboxImage'); // NEW

  // Utility function to close all lightboxes
  function closeAllLightboxes() {
    imageLightbox.style.display = 'none';
    videoLightbox.style.display = 'none';
    documentLightbox.style.display = 'none';
    galleryLightbox.style.display = 'none'; // NEW
    lightboxVideo.src = ''; 
    lightboxDocument.src = '';
    document.body.style.overflow = 'auto';
  }

  function closeImageLightbox() { closeAllLightboxes(); }
  function closeVideoLightbox() { closeAllLightboxes(); }
  function closeDocumentLightbox() { closeAllLightboxes(); }
  function closeGalleryLightbox() { closeAllLightboxes(); } // NEW

  // 1. Single Image/Poster Lightbox (used for non-gallery images)
  function openImageLightbox(src, alt) {
      lightboxImage.src = src;
      lightboxImage.alt = alt;
      imageLightbox.style.display = 'flex';
      document.body.style.overflow = 'hidden';
  }

  // 2. Video Lightbox
  function openVideoLightbox(url) { 
      lightboxVideo.src = url; 
      videoLightbox.style.display = 'flex';
      document.body.style.overflow = 'hidden';
  }
  
  // 3. Document Viewer Lightbox
  function openDocumentLightbox(url) {
      lightboxDocument.src = url;
      documentLightbox.style.display = 'flex';
      document.body.style.overflow = 'hidden';
  }
  
  // --- NEW GALLERY SLIDESHOW LOGIC (Facebook-Style) ---
  
  let currentImageIndex = 0;
  let galleryImages = [];

  // 4. Gallery Slideshow Initializer
  function openGalleryLightbox(clickedImage) {
    // 1. Collect all images in the portfolio grid
    galleryImages = Array.from(document.querySelectorAll('#portfolio-grid img'));
    
    // 2. Determine the index of the clicked image
    const clickedIndex = parseInt(clickedImage.getAttribute('data-index'));
    currentImageIndex = clickedIndex;

    // 3. Display the lightbox
    galleryLightbox.style.display = 'flex';
    document.body.style.overflow = 'hidden';
    
    // 4. Load the first image
    showImage(currentImageIndex);
  }

  // Core function to load image into the lightbox
  function showImage(index) {
    if (galleryImages.length === 0) return;

    // Handle wrapping (looping)
    if (index >= galleryImages.length) {
      currentImageIndex = 0;
    } else if (index < 0) {
      currentImageIndex = galleryImages.length - 1;
    } else {
      currentImageIndex = index;
    }

    const imageElement = galleryImages[currentImageIndex];
    galleryLightboxImage.src = imageElement.src;
    galleryLightboxImage.alt = imageElement.alt;
    
    // Optional: Update a counter/caption here if you want "1 of 6" text
  }

  // Function called by the Prev/Next buttons
  function changeImage(n) {
    showImage(currentImageIndex + n);
  }
  
  // Close lightbox if user clicks outside of the content area
  window.onclick = function(event) {
      if (event.target == imageLightbox || event.target == videoLightbox || event.target == documentLightbox || event.target == galleryLightbox) {
          closeAllLightboxes();
      }
  };
</script>

</body>
      </html>
